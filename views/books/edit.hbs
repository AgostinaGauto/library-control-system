<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card shadow-lg mt-4">
            <div class="card-header bg-primary text-white">
                <h3 class="mb-0">Modificar Libro: {{libro.titulo}}</h3>
            </div>
            <div class="card-body">
                <form action="/books/edit/{{libro.id_libro}}" method="POST">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="titulo" class="form-label">Título (*)</label>
                            <input type="text" id="titulo" name="titulo" class="form-control" value="{{libro.titulo}}" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="autor" class="form-label">Autor (*)</label>
                            <input type="text" id="autor" name="autor" class="form-control" value="{{libro.autor}}" required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="editorial" class="form-label">Editorial</label>
                            <input type="text" id="editorial" name="editorial" class="form-control" value="{{libro.editorial}}">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="fecha_edicion" class="form-label">Fecha de Edición</label>
                            <input type="date" id="fecha_edicion" name="fecha_edicion" class="form-control" value="{{fecha_edicion_formatted}}">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="idioma" class="form-label">Idioma</label>
                            <input type="text" id="idioma" name="idioma" class="form-control" value="{{libro.idioma}}">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="cant_paginas" class="form-label">Cantidad de Páginas</label>
                            <input type="number" id="cant_paginas" name="cant_paginas" class="form-control" value="{{libro.cant_paginas}}">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="estado" class="form-label">Estado del Libro</label>
                        <select id="estado" name="estado" class="form-select" required>
                            <option value="en biblioteca" {{#eq libro.estado "en biblioteca"}}selected{{/eq}}>En Biblioteca</option>
                            <option value="prestado" {{#eq libro.estado "prestado"}}selected{{/eq}}>Prestado</option>
                            <option value="en reparación" {{#eq libro.estado "en reparación"}}selected{{/eq}}>En Reparación</option>
                        </select>
                        <div class="form-text">
                            El estado se actualiza automáticamente con Préstamos/Reparaciones.
                        </div>
                    </div>
                    <p class="text-muted">(*) Campos obligatorios.</p>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a href="/books" class="btn btn-secondary">Cancelar</a>
                        <button type="submit" class="btn btn-primary">Actualizar Libro</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>